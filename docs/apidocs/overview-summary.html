<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.4) on Fri Aug 03 14:53:26 EDT 2018 -->
<title>Overview (Systems Biology Simulation Core Library (SBSCL) 1.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="date" content="2018-08-03">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (Systems Biology Simulation Core Library (SBSCL) 1.5 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "./";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<div class="header">
<h1 class="title">Systems Biology Simulation Core Library (SBSCL) 1.5 API</h1>
</div>
<div class="contentContainer">
<div class="block"><h2>Simulation Core Library: Documentation</h2>
  
    <h3>About Simulation Core Library</h3>
    <p>
      The Java&#8482; API Simulation Core Library comprises a collection of
      integrators for differential equation systems combined with an interpreter
      for the Systems Biology Markup Language
      (<a href="http://sbml.org" target="_blank">SBML</a>). 
      It is the first simulation library that is based on
      <a href="http://sbml.org/Software/JSBML/" target="_blank">JSBML</a>.
      The user can read an SBML model and simulate it with one of the provided
      numerical integration routines. All SBML levels and versions are
      supported.
      The library can easily be integrated into customized software, such as
      parameter estimation tools.
    </p>
    <p style="border-style:solid; border-color:#A51E37; padding: 10px;">
      <b>When using the Simulation Core Library, please cite</b>:<br/>
      Roland Keller, Alexander D&#246;rr, Akito Tabira, Akira Funahashi, Michael
      J. Ziller, Richard Adams, Nicolas Rodriguez, Nicolas Le Nov&#232;re,
      Noriko Hiroi, Hannes Planatscher, Andreas Zell, and Andreas Dr&#228;ger.
      The systems biology simulation core algorithm. BMC Systems Biology, 7:55,
      July 2013. [ <a href="http://dx.doi.org/10.1186/1752-0509-7-55">DOI</a> |
      <a href="http://www.biomedcentral.com/1752-0509/7/55">link</a> |
      <a href="http://www.biomedcentral.com/content/pdf/1752-0509-7-55.pdf">pdf</a> ]
    </p>
    
    <h3>How to integrate Simulation Core Library into your software?</h3>
    <p>
      You just have to add the provided jar-file simulation-core-library.jar to the class path of your Java project.
      Then you have access to all classes of the library.
      This library depends on the following third-party libraries:
      <ul>
        <li><a href="http://commons.apache.org/math/" target="_blank">Commons-math-2.2.jar</a></li>
        <li><a href="http://www.junit.org/" target="_blank">JUnit-4.8.jar</a></li>
        <li><a href="http://sbml.org/Software/JSBML" target="_blank">JSBML</a></li>
      </ul>
      For <a href="http://sed-ml.org/" target="_blank">SED-ML</a> support, the following
      additional libraries are required:
      <ul>
        <li><a href="http://commons.apache.org/proper/commons-io/" target="_blank">commons-io-1.4.jar</a></li>
        <li><a href="http://jaxen.codehaus.org/apidocs/" target="_blank">jaxen-1.1.1.jar</a></li>
        <li><a href="http://www.jdom.org/docs/apidocs.1.1/" target="_blank">jdom-contrib.jar</a></li>
        <li><a href="http://www.jdom.org/docs/apidocs.1.1/" target="_blank">jdom.jar</a></li>
        <li><a href="http://jlibsedml.sourceforge.net" target="_blank">jlibsedml.jar</a></li>
        <li><a href="http://sourceforge.net/projects/jmathml/" target="_blank">jmathml.jar</a></li>
        <li><a href="http://www.xom.nu/" target="_blank">xom-1.2.1.jar</a></li>
      </ul>
      Please make sure to include the correct third-party libraries into your
      class path before working with this library.
    </p>

    <h3>The provided integration methods</h3>
    <p>
      The <a href="org/simulator/math/odes/RosenbrockSolver.html" title="class in org.simulator.math.odes"><code>RosenbrockSolver</code></a> is best suitable for integrating stiff differential
      equation systems and also has a precise timing of SBML events. It is taken
      and adapted from
      <a href="http://www.math.hmc.edu/clinic/projects/2010/" target="_blank">Kotcon <i>et al.</i> (2011)</a>
    </p><p>
      Several further solvers have been taken from the
      <a href="http://commons.apache.org/math/" target="_blank">Apache Commons
         Math Library</a> and wrapped into our library:
      <ul>
        <li><a href="org/simulator/math/odes/AdamsBashforthSolver.html" title="class in org.simulator.math.odes"><code>AdamsBashforthSolver</code></a></li>
        <li><a href="org/simulator/math/odes/AdamsMoultonSolver.html" title="class in org.simulator.math.odes"><code>AdamsMoultonSolver</code></a></li>
        <li><a href="org/simulator/math/odes/DormandPrince54Solver.html" title="class in org.simulator.math.odes"><code>DormandPrince54Solver</code></a></li>
        <li><a href="org/simulator/math/odes/DormandPrince853Solver.html" title="class in org.simulator.math.odes"><code>DormandPrince853Solver</code></a></li>
        <li><a href="org/simulator/math/odes/GraggBulirschStoerSolver.html" title="class in org.simulator.math.odes"><code>GraggBulirschStoerSolver</code></a></li>
        <li><a href="org/simulator/math/odes/HighamHall54Solver.html" title="class in org.simulator.math.odes"><code>HighamHall54Solver</code></a></li>
      </ul>

      The following solvers have been implemented additionally and are fast, but
      not suitable for all differential equation systems:
      <ul>
        <li><a href="org/simulator/math/odes/EulerMethod.html" title="class in org.simulator.math.odes"><code>EulerMethod</code></a></li>
        <li><a href="org/simulator/math/odes/RungeKutta_EventSolver.html" title="class in org.simulator.math.odes"><code>RungeKutta_EventSolver</code></a></li>
      </ul>
    </p><p>
      For a full list of available solvers, see <a href="org/simulator/math/odes/package-summary.html"><code>org.simulator.math.odes</code></a>.
    </p>

    <h3>Reading an SBML model and creating the respective differential equation 
        system</h3>
    <p>
      A model can be read in by using the <code>SBMLReader</code>
      class from <a href="http://sbml.org/Software/JSBML" target="_blank">JSBML</a>.
      With the model in memory the <a href="org/simulator/sbml/SBMLinterpreter.html" title="class in org.simulator.sbml"><code>SBMLinterpreter</code></a>
      can create the differential equation system that provides the basis for
      simulation:
    </p>
    <pre><code class="spoiled">
      <span class="class">Model</span> model = (<span class="keyword">new</span> <span class="class">SBMLReader</span>()).<span class="method">readSBML</span>(sbmlfile).<span class="method">getModel()</span>;<br/>
      <span class="class">SBMLinterpreter</span> interpreter = <span class="keyword">new</span> <span class="class">SBMLinterpreter</span>(model);
    </code></pre>
    <p>
      For more documentation about working with SBML models in simulations see
      <a href="org/simulator/sbml/package-summary.html"><code>org.simulator.sbml</code></a>.
    </p>

    <h3>Simulation of a differential equation system</h3>
    <p>
      The created differential equation system can then be simulated with a
      chosen solver and given time points.
      The result is stored in a data structure called
      <a href="org/simulator/math/odes/MultiTable.html" title="class in org.simulator.math.odes"><code>MultiTable</code></a>.
    </p>
    <pre><code class="spoiled">
      <span class="class">AbstractDESSolver</span> solver = <span class="keyword">new</span> <span class="class">RosenbrockSolver</span>();<br/>
      <span class="keyword">double</span>[] timePoints = {0.0, 0.1, 0.2, 0.3, 0.4, 0.5};<br/>
      <span class="class">MultiTable</span> solution = solver.<span class="method">solve</span>(interpreter, interpreter.<span class="method">getInitialValues</span>(), timePoints);
    </code></pre>

        <h3>Using SED-ML for simulation</h3>
    <p>
      The following example shows how to read in a <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io"><code>File</code></a> f (in
      <a href="http://sed-ml.org/" target="_blank">SED-ML</a> format) and how to run a simulation
      described in this file afterwards. The simulation results are stored in a
      <a href="org/simulator/math/odes/MultiTable.html" title="class in org.simulator.math.odes"><code>MultiTable</code></a>:
    </p>
                        
    <pre><code class="spoiled">
      <span class="class">SEDMLDocument</span> doc = <span class="class">Libsedml</span>.<span class="method">readDocument</span>(f);<br/>
      <span class="class">SedML</span> sedml = doc.<span class="method">getSBMLModel</span>();<br/>
      <span class="class">Output</span> wanted = sedml.<span class="method">getOutputs</span>().<span class="method">get</span>(0);<br/>
      <span class="class">SedMLSBMLSimulatorExecutor</span> exe = <span class="keyword">new</span> <span class="class">SedMLSBMLSimulatorExecutor</span>(sedml, wanted);<br/>
      <span class="class">Map<Task, IRawSedmlSimulationResults></span> res = exe.<span class="method">runSimulations</span>();<br/>
      <span class="class">MultiTable</span> solution = exe.<span class="method">processSimulationResults</span>(wanted, res);<br/>
    </code></pre>
    
    <p>
      For more information about how to use SED-ML to execute your simulation
      experiments, see <a href="org/simulator/sedml/package-summary.html"><code>org.simulator.sedml</code></a>.
    </p>
    
    <h3>Simulation of the models in the SBML Test Suite</h3>
    <p>
      You can run the simulation of the models in the 
      <a href="http://sbml.org/Facilities/Online_SBML_Test_Suite" target="_blank">SBML Test
      Suite</a> by using the command below. <i>TestSuiteDirectory</i> denotes
      the directory containing your copy of the (entire) SBML test suite.
      Here we assume that the actual test cases are located in the sub-folder 
      <i>cases/semantic/</i> within the  <i>TestSuiteDirectory</i> on your
      computer.
      The simulation is conducted for the models with numbers from <i>first</i>
      to <i>last</i> (these numbers are the indices of the models in the test
      suite, without leading zeros).
    </p>
    <pre><code class="spoiled">
      java -cp SimulationCoreLibrary_vX.Y_incl-libs.jar org.simulator.SBMLTestSuiteRunner TestSuiteDirectory/cases/semantic/ first last
    </code></pre>
      Please note that, you have to replace <i>_vX.Y_</i> within the library's
      name by the current release number, e.g., 1.2.
    <p>    
      For example, if you like to simulate all test suite models ranging from 
      <i>00259</i> to <i>00326</i>, simply call the algorithm with
      <i>first = 259</i> and <i>last = 326</i>. 
    </p>
    
    <p>
      Note that for the sake of a simple configuration, the simulation is 
      started using default settings for the selection of the
      integration routine, step size etc.
    </p>
    
    <p>
      The
      <a href="http://sbml.org/Facilities/Database/Simulator">SBML Test Suite Database</a>
      provides an up-to-date overview about the
      capabilities of various SBML-compliant solver implementations.
    </p>
    
    <h3>Simulation of the models from BioModels database</h3>
    <p>
      In a similar way, you can also download and simulate all models from
      <a href="http://www.ebi.ac.uk/biomodels-main/" target="_blank">BioModels database</a>:
    <pre><code class="spoiled">
      java -cp SimulationCoreLibrary_vX.Y_incl-libs.jar org.simulator.TestBiomodels BioModelsDirectory/ first last
    </code></pre>
      Again, you have to replace <i>_vX.Y_</i> within the library's
      name by the current release number, e.g., 1.2. Please use the variables
      <i>first</i> and <i>last</i> without leading zeros as in the previous
      case. The variable <i>BioModelsDirectory</i> gives the path to your local
      copy of
      <a href="http://www.ebi.ac.uk/biomodels-main/" target="_blank">BioModels database</a>.
    </p>
    <p>
      As in the previous case, the simulation is conducted using default
      settings.
    </p>
    
    <h3>Listening to SBML constraint violation</h3>
    <p>
      In version 1.3 a new listener interface has been added to
      this library, which can be used to perform user-defined actions upon violation
      of a <code>Constraint</code>'s math expression during a simulation.
      A simple implementation is already included in this package,
      which logs violation at the
      <a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#WARNING" title="class or interface in java.util.logging"><code>Level.WARNING</code></a> using standard Java&trade;
      logging (see <a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging"><code>Logger</code></a>).
      By default the
      <a href="org/simulator/sbml/SBMLinterpreter.html" title="class in org.simulator.sbml"><code>SBMLinterpreter</code></a> adds this
      <a href="org/simulator/sbml/SimpleConstraintListener.html" title="class in org.simulator.sbml"><code>SimpleConstraintListener</code></a> to its internal list of
      <a href="org/simulator/sbml/ConstraintListener.html" title="interface in org.simulator.sbml"><code>ConstraintListener</code></a>s.
    </p>
    
    <p>
      You can remove this listener by calling the method
      <a href="org/simulator/sbml/SBMLinterpreter.html#removeConstraintListener-int-"><code>SBMLinterpreter.removeConstraintListener(int)</code></a>,
      with the argument 0 for the first listener in the list,
      and add your own listener implementation with the help of method 
      <a href="org/simulator/sbml/SBMLinterpreter.html#addConstraintListener-org.simulator.sbml.ConstraintListener-"><code>SBMLinterpreter.addConstraintListener(ConstraintListener)</code></a>.
    </p>
    <p>The following example demonstrates how you can easily define your customized
      <a href="org/simulator/sbml/ConstraintListener.html" title="interface in org.simulator.sbml"><code>ConstraintListener</code></a>:
    <pre><code class="spoiled">
      <span class="keyword">double</span> timeEnd = 5d;<br/>
      <span class="class">SBMLDocument</span> doc = <span class="class">SBMLReader</span>.<span class="method">read</span>(<span class="keyword">new</span> <span class="class">File</span>(<span class="stringliteral">"path/to/file.xml"</span>));<br/>
      <span class="class">SBMLinterpreter</span> interpreter = <span class="keyword">new</span> <span class="class">SBMLinterpreter</span>(doc.<span class="method">getModel</span>());<br/>
          interpreter.<span class="method">addConstraintListener</span>(<span class="keyword">new</span> <span class="class">ConstraintListener</span>() {<br/>
             &#160;&#160;<span class="comment-single">/* (non-Javadoc)<br/>
                 &#160;&#160;&#160;* @see org.simulator.sbml.ConstraintListener#processViolation(org.simulator.sbml.ConstraintEvent)<br/>
                 &#160;&#160;&#160;*/</span><br/>
             &#160;&#160;public <span class="keyword">void</span> <span class="method">processViolation</span>(<span class="class">ConstraintEvent</span> evt) {<br/>
                 &#160;&#160;&#160;&#160;<span class="class">System</span>.err.<span class="method">println</span>(<span class="stringliteral">"Constraint violated at time "</span> + evt.<span class="method">getTime</span>() + <span class="stringliteral">": "</span> + evt.<span class="method">getSource</span>().<span class="method">getMath</span>().<span class="method">toFormula</span>());<br/>
             &#160;&#160;}<br/>
          });<br/>
          solver.<span class="method">solve</span>(interpreter, interpreter.<span class="method">getInitialValues()</span>, 0d, timeEnd);
    </code></pre>
    </p>
    <p>
      You can find more details about this topic in the description of package
      <a href="org/simulator/sbml/package-summary.html"><code>org.simulator.sbml</code></a>. 
    </p></div>
</div>
<div class="contentContainer"><a name="Packages">
<!--   -->
</a>
<table class="overviewSummary" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/package-summary.html">org.simulator</a></th>
<td class="colLast">
<div class="block">This package simply contains a default main program to display very
 basic licensing terms and other information.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/comp/package-summary.html">org.simulator.comp</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/examples/package-summary.html">org.simulator.examples</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/fba/package-summary.html">org.simulator.fba</a></th>
<td class="colLast">
<div class="block">This package contains an implementation of flux balance analysis for COBRA
 models.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/io/package-summary.html">org.simulator.io</a></th>
<td class="colLast">
<div class="block">Import and export of files.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/math/package-summary.html">org.simulator.math</a></th>
<td class="colLast">
<div class="block">Classes that contain several mathematical operations.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/math/odes/package-summary.html">org.simulator.math.odes</a></th>
<td class="colLast">
<div class="block">The various solver classes that are all derived from
 <a href="org/simulator/math/odes/AbstractDESSolver.html" title="class in org.simulator.math.odes"><code>AbstractDESSolver</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/omex/package-summary.html">org.simulator.omex</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/plot/package-summary.html">org.simulator.plot</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/sbml/package-summary.html">org.simulator.sbml</a></th>
<td class="colLast">
<div class="block">Classes for storing and interpreting an
 <a href="http://sbml.org" target="./org/simulator/sbml/_blank">SBML</a>
 model.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="org/simulator/sbml/astnode/package-summary.html">org.simulator.sbml.astnode</a></th>
<td class="colLast">
<div class="block">Classes for efficient numerical treatment of equations in form of
 abstract syntax trees.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="org/simulator/sedml/package-summary.html">org.simulator.sedml</a></th>
<td class="colLast">
<div class="block">Classes for reading and executing
 <a href="http://sed-ml.org/" target="./org/simulator/sedml/_blank">SED-ML</a> files.</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2018. All rights reserved.</small></p>
</body>
</html>
